
@{
    ViewData["Title"] = "EditText";
}
@{
}
@model TextHeaderBodyUserRecord

    <div class="editor-container">
        <h2>Editing text: @Model.TextHeader.Title </h2>
    
    <form action="EditText" method="post">
        <input type="hidden" name="TextHeader.TextHeaderId" value="@Model.TextHeader.TextHeaderId" />
        <input type="hidden" name="TextHeader.TextGroupId" value="@Model.TextHeader.TextGroupId" />
        <input type="hidden" name="TextHeader.TextId" value="@Model.TextHeader.TextId" />
        @*<input type="hidden" name="TextHeader.Title" value="@Model.TextHeader.Title" />*@
        <input type="hidden" name="TextHeader.Created" value="@Model.TextHeader.Created" />
        <input type="hidden" name="TextHeader.CreatedBy" value="@Model.TextHeader.CreatedBy" />
        <input type="hidden" name="TextHeader.LastModified" value="@Model.TextHeader.LastModified" />
        <input type="hidden" name="TextHeader.LastModifiedBy" value="@Model.TextHeader.LastModifiedBy" />
        <input type="hidden" name="TextHeader.LastRead" value="@Model.TextHeader.LastRead" />
        <input type="hidden" name="TextHeader.LastReadBy" value="@Model.TextHeader.LastReadBy" />
        @*  <input type="hidden" name="TextHeader.TextRevisionStatusId" value="@Model.TextHeader.TextRevisionStatusId" />*@
        <input type="hidden" name="TextHeader.VisionNumber" value="@Model.TextHeader.VisionNumber" />
        <input type="hidden" name="TextHeader.VersionOf" value="@Model.TextHeader.VersionOf" />
        @*<input type="hidden" name="TextHeader.Deleted" value="@Model.TextHeader.Deleted" />
            <input type="hidden" name="TextHeader.Locked" value="@Model.TextHeader.Locked" />
            <input type="hidden" name="TextHeader.Top" value="@Model.TextHeader.Top" />*@

        <input type="hidden" name="User.UserId" value="@Model.User.UserId" />
        <input type="hidden" name="User.UserName" value="@Model.User.UserName" />
        <input type="hidden" name="User.AspNetUserId" value="@Model.User.AspNetUserId" />

        <input type="hidden" name="Text.TextId" value="@Model.Text.TextId" />
        <input type="hidden" name="Text.Created" value="@Model.Text.Created" />
            <div class="editor-container-buttons-left">
                <div class="editor-container-button">
                <p class="font-control-label">Title: </p>
                </div>
                <div class="editor-container-button">
                <input id="title-box" type="text" name="TextHeader.Title" value="@Model.TextHeader.Title" />
                </div>
            </div>
        <div class="editor-container-buttons-right">
            <div class="editor-container-button">
            <p class="font-control-label">Revision Status: </p>
            </div>
            <div class="editor-container-button">
            <select name="TextHeader.TextRevisionStatusID">
                @foreach (var revisionStatus in Model.RevisionStatuses)
                {
                    if (revisionStatus.TextRevisionStatusId == @Model.TextHeader.TextRevisionStatusId)
                    {
                        <option value="@revisionStatus.TextRevisionStatusId" selected>@revisionStatus.TextRevisionStatus1</option>
                    }
                    else
                    {
                        <option value="@revisionStatus.TextRevisionStatusId">@revisionStatus.TextRevisionStatus1</option>
                    }
                }
            </select>
            </div>
            <div class="editor-container-button">
            <input type="submit" value="Save and Exit" />
            </div>
        </div>
        <input id="editor" type="text" name="Text.TextBody" value="@Model.Text.TextBody" />
        </form>
        </div>
    <br />


    @if (Model.PreviousTexts.Count() > 0)
    {
        <h3>Previous visions:</h3>
        foreach (var prev in Model.PreviousTexts)
        {
            <div class="editor-container">
            <b><p>Vision @prev.VisionNumber: @prev.Title</p></b>
            <p>Created @prev.Created by @prev.CreatedBy</p>
            <p>Last Modified @prev.LastModified by @prev.LastModifiedBy</p>
            <p>@prev.TextBody</p>
            </div>
        }
    }


